    {% extends "layout.html" %}
    {% block title %}Home{% endblock %}
    {% block body %}
        <!-- Begin Page Content -->
        <div class="container main pb">
        
            <!-- Page Heading -->
            <!-- <div class="d-sm-flex align-items-center justify-content-between mb-4">
                <h1 class="h3 mb-0 text-gray-800">Cards</h1>
            </div> -->
                {% for k,v in tracks.items() %}
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <div class="m-0 font-weight-bold text-primary">Track: {{ k }}</div>
                    </div>
                    <div class="card-body">
                        {% for i in v %}
                        {% if i.description %}
                        <div class="card b-offset border-left-{{ i.difficulty.lower() }}">
                            <div class="card-header py-3">
                                <div class="pull-right body-med diff-{{i.difficulty.lower()}}">{{ i.difficulty }}</div>
                                <h6 class="m-0 font-weight-bold"><a class="deco-none" href="{{url_for(i.name + '.home')}}">{{ i.title }}</a></h6>
                            </div>
                            <div class="card-body">
                                <p>{{ i.description }}</p>
                                <a href="{{url_for(i.name + '.home')}}">Go to Challenge</a>
                            </div>
                        </div><!-- /.card .shadow-->
                        {% else %}
                        <div class="card b-offset border-left-{{ i.difficulty.lower() }}">
                            <div class="card-header py-3">
                                <div class="pull-right body-med"><a href="{{url_for(i.name + '.home')}}">Go to Challenge</a> | <span class="diff-{{i.difficulty.lower()}}">{{ i.difficulty }}</span></div>
                                <h6 class="m-0 font-weight-bold"><a class="deco-none" href="{{url_for(i.name + '.home')}}">{{ i.title }}</a></h6>
                            </div>
                        </div><!-- /.card .shadow-->
                        {% endif %}
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
        </div><!-- /.container-fluid -->
        </div><!-- End of Main Content --> 
    <script>
    function changeSettings(data) {
        console.log("Changing settings...");
        fetch("{{ url_for('settings') }}", {
            method: "post",
            body: JSON.stringify(data)
        }).then(function (response) {
            return response.json();
        }).then(function (data) {
            console.log("Update status: ", data)
        });
    }

    function handleEvent(evnt) {
        if (evnt.type === "change") {
            var data = {};
            data.id = this.value;
            data.value = this.checked;
            changeSettings(data);
        }
    }

    function init() {
        var elements = document.querySelectorAll("input.settings-event");
        for (var i = 0, n = elements.length; i < n; i++) {
            elements[i].addEventListener("change", handleEvent);
        }
    }
    init();
    function deleteAllCookies() {
        // https://stackoverflow.com/questions/179355/clearing-all-cookies-with-javascript
        var cookies = document.cookie.split(";");

        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i];
            var eqPos = cookie.indexOf("=");
            var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
            document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
        }
    }
    deleteAllCookies();
    </script>
    </body>
</html>
{% endblock %}